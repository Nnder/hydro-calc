<?php

namespace Database\Seeders;

use Illuminate\Database\Seeder;
use App\Models\Category;
use App\Models\Subcategory;

class CategorySeeder extends Seeder
{
    /**
     * Массив базовых категорий и их подкатегорий
     */
    protected $categories = [
        'Инструмент' => [
            'Шуруповерты',
            'Дрели',
            'Болгарки',
            'Лобзики',
            'Перфораторы',
            'Пилы',
            'Фрезеры',
            'Наборы инструментов',
        ],
        'Крепеж' => [
            'Саморезы',
            'Болты и гайки',
            'Дюбели',
            'Анкеры',
            'Гвозди',
            'Винты',
            'Шурупы',
        ],
        'Строительные материалы' => [
            'Цемент',
            'Гипсокартон',
            'Пиломатериалы',
            'Сухие смеси',
            'Утеплители',
            'Кирпич',
            'Пенобетон',
        ],
        'Электротовары' => [
            'Кабели',
            'Розетки',
            'Выключатели',
            'Автоматы',
            'Электрощиты',
            'Удлинители',
            'Патроны',
        ],
        'Садовый инвентарь' => [
            'Лопаты',
            'Грабли',
            'Секаторы',
            'Шланги',
            'Газонокосилки',
            'Триммеры',
            'Садовые ножницы',
        ],
        'Сантехника' => [
            'Смесители',
            'Унитазы',
            'Раковины',
            'Ванны',
            'Душевые кабины',
            'Трубы',
            'Фитинги',
        ],
        'Лакокрасочные материалы' => [
            'Краски',
            'Лаки',
            'Эмали',
            'Грунтовки',
            'Растворители',
            'Колеровочные пасты',
        ],
        'Хозяйственные товары' => [
            'Швабры',
            'Ведра',
            'Тряпки',
            'Губки',
            'Перчатки',
            'Моющие средства',
        ],
        'Освещение' => [
            'Светильники',
            'Лампы',
            'Люстры',
            'Бра',
            'Прожекторы',
            'Светодиодные ленты',
        ],
        'Напольные покрытия' => [
            'Ламинат',
            'Линолеум',
            'Паркет',
            'Ковры',
            'Плитка',
            'Ковролин',
        ],
        'Другое' => [
            'Разное',
        ],
    ];

    /**
     * Run the database seeds.
     */
    public function run(): void
    {
        foreach ($this->categories as $categoryName => $subcategories) {
            // Создаем категорию
            $category = Category::create([
                'name' => $categoryName,
                'description' => "Категория товаров: {$categoryName}",
            ]);
            
            // Создаем подкатегории
            foreach ($subcategories as $subcategoryName) {
                Subcategory::create([
                    'category_id' => $category->id,
                    'name' => $subcategoryName,
                    'description' => "Подкатегория {$categoryName}: {$subcategoryName}",
                ]);
            }
        }
    }
} 